<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>PestigePages — Premium Books</title>
  <link rel="preconnect" href="https://fonts.googleapis.com" />
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&family=Playfair+Display:wght@600;700&display=swap" rel="stylesheet" />
  <link rel="stylesheet" href="css/faq.css">
  <link rel="stylesheet" href="css/homepage.css" />
  <style>
    /* Fade-in animations */
    @keyframes fadeIn {
      from {
        opacity: 0;
        transform: translateY(20px);
      }

      to {
        opacity: 1;
        transform: translateY(0);
      }
    }

    /* Apply fade-in to sections */
    .fade-in {
      opacity: 0;
      animation: fadeIn 1s ease forwards;
    }

    .site-header {
      animation: fadeIn 0.8s ease forwards;
    }

    main {
      opacity: 0;
      animation: fadeIn 1s ease 0.2s forwards;
    }

    .features {
      opacity: 0;
      animation: fadeIn 1s ease 0.4s forwards;
    }

    #popular {
      opacity: 0;
      animation: fadeIn 1s ease 0.6s forwards;
    }

    .card {
      opacity: 0;
      animation: fadeIn 0.8s ease forwards;
    }

    /* Stagger card animations */
    #book-grid .card:nth-child(1) {
      animation-delay: 0.7s;
    }

    #book-grid .card:nth-child(2) {
      animation-delay: 0.8s;
    }

    #book-grid .card:nth-child(3) {
      animation-delay: 0.9s;
    }

    #book-grid .card:nth-child(4) {
      animation-delay: 1.0s;
    }

    #book-grid .card:nth-child(5) {
      animation-delay: 1.1s;
    }

    #book-grid .card:nth-child(6) {
      animation-delay: 1.2s;
    }

    #book-grid .card:nth-child(7) {
      animation-delay: 1.3s;
    }

    #book-grid .card:nth-child(8) {
      animation-delay: 1.4s;
    }

    /* Additional animations for cart/wishlist */
    #cart-modal,
    #wishlist-modal {
      opacity: 0;
      animation: fadeIn 0.3s ease forwards;
    }

    .welcome-text {
      opacity: 0;
      animation: fadeIn 1s ease 0.3s forwards;
    }

    .card { 
      display:flex; 
      gap:12px; 
      border:1px solid #eee; 
      border-radius:8px; 
      align-items:center; 
    }

    .card-body { 
      flex:1; 
    }

    .byline { 
      color:#666; 
      font-size:0.9rem; 
      margin-bottom:6px; 
    }
    
  </style>
</head>

<body>
<!-- Header -->
  <header class="site-header">
    <div class="container nav">
      <button class="icon-btn hamburger" id="navToggle" aria-label="Open menu">
        <svg width="20" height="20" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
          <path d="M3 6h18M3 12h18M3 18h18" stroke="#5f5a54" stroke-width="2" stroke-linecap="round" />
        </svg>
      </button>
      <div class="brand">PrestigePages</div>
      <nav class="nav-links" aria-label="Main">
        <a href="homepage-logged.html">Home</a>
        <a href="homepage-logged.html#popular">Store</a>
        <a href="about-us-logged.html">About us</a>
        <a href="faq-logged.html">FAQ</a>
      </nav>

      <div class="nav-spacer"></div>

      <div class="actions">
        <button class="icon-btn" aria-label="Wishlist">
          <svg width="20" height="20" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
            <path
              d="M12.1 20.3 4.7 13c-2.6-2.6-1.9-6.9 1.6-8.5 1.7-.8 3.7-.5 5.1.7 1.4-1.2 3.4-1.5 5.1-.7 3.5 1.6 4.2 5.9 1.6 8.5l-7.3 7.3Z"
              stroke="#7E6E5B" stroke-width="1.6" fill="#fff" />
          </svg>
        </button>

        <button class="icon-btn" aria-label="Cart" id="cartBtn">
          <svg width="20" height="20" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
            <path d="M3 3h2l2.4 12.3a2 2 0 0 0 2 1.7h6.9a2 2 0 0 0 2-1.6L21 7H6" stroke="#7E6E5B" stroke-width="1.6"
              stroke-linecap="round" stroke-linejoin="round" />
            <circle cx="10" cy="20" r="1.5" fill="#7E6E5B" />
            <circle cx="17" cy="20" r="1.5" fill="#7E6E5B" />
          </svg>
          <span id="cartCount" class="badge">0</span>
          <!-- ✅ badge -->
        </button>

        <button class="icon-btn" aria-label="Custom" id="transBtn">
          <img src="images/file.png" alt="" class="icon-img"  width="20px"/>
        </button>

        <div class="dropdown">
          <div class="dropdown-trigger">
            <button class="dropbtn" id="welcomeMessage">Loading....</button>
            <img src="images/down-arrow.png" alt="arrow" width="30" class="dropdown-arrow" />
          </div>
          <div class="dropdown-content">
            <a href="profile.html">Profile</a>
            <a href="#" id="logoutBtn">Logout</a>
          </div>
        </div>
      </div>
    </div>
  </header>  

  <main>
    <h2>FREQUENTLY ASKED QUESTIONS</h2>

  <div class="faq-contact-container">
    <!-- LEFT: FAQ -->
    <div class="faq-column">
      <details>
        <summary>What shipping service do you use?</summary>
        <p>We use trusted courier services to ensure fast and reliable delivery.</p>
      </details>
      <details>
        <summary>When will my order arrive?</summary>
        <p>Orders typically arrive within 3–5 business days.</p>
      </details>
      <details>
        <summary>Do you offer local collection?</summary>
        <p>Yes, local collection is available at selected locations.</p>
      </details>
      <details>
        <summary>When can I pick up my click and collect order?</summary>
        <p>Click & collect orders are usually ready within 24 hours.</p>
      </details>
      <details>
        <summary>How much is shipping?</summary>
        <p>Shipping costs depend on your location and order size.</p>
      </details>
      <details>
        <summary>How can I track my delivery?</summary>
        <p>You will receive a tracking link once your order has been dispatched.</p>
      </details>
      <details>
        <summary>Do you deliver overseas?</summary>
        <p>Yes, we ship internationally. Delivery times vary by country.</p>
      </details>
    </div>

  <!-- RIGHT: CONTACT FORM -->
    <div class="contact-column">
      <h3 class="feature-title">Contact Us</h3>
      <form id="contactForm">
        <div class="form-group">
          <input type="text" class="form-control" placeholder="Name" name="name" id="contactName" required>
        </div>
        <div class="form-group">
          <input type="email" class="form-control" placeholder="Email Address" name="email" id="contactEmail" required>
        </div>
        <div class="form-group">
          <textarea class="form-control" rows="6" placeholder="Message" name="message" id="contactMessage" required></textarea>
        </div>
        <input type="submit" class="btn btn-secondary btn-block" value="Send">
        <div id="contactStatus" style="margin-top: 1rem;"></div>
      </form>
    </div>

    <script type="module">
      // Add this script to faq-logged.html
      import { initializeApp } from "https://www.gstatic.com/firebasejs/12.1.0/firebase-app.js";
      import { 
        getFirestore, 
        collection, 
        addDoc 
      } from "https://www.gstatic.com/firebasejs/12.1.0/firebase-firestore.js";
      import { firebaseConfig } from "./js/firebase-config.js";

      const app = initializeApp(firebaseConfig);
      const db = getFirestore(app);

      document.getElementById('contactForm')?.addEventListener('submit', async (e) => {
        e.preventDefault();
        
        const name = document.getElementById('contactName').value.trim();
        const email = document.getElementById('contactEmail').value.trim();
        const message = document.getElementById('contactMessage').value.trim();
        const statusDiv = document.getElementById('contactStatus');
        const submitBtn = e.target.querySelector('input[type="submit"]');

        if (!name || !email || !message) {
          showContactStatus('Please fill in all fields.', 'error', statusDiv);
          return;
        }

        try {
          submitBtn.disabled = true;
          submitBtn.value = 'Sending...';
          
          // Save inquiry to Firestore
          await addDoc(collection(db, 'inquiries'), {
            name: name,
            email: email,
            message: message,
            status: 'pending',
            createdAt: new Date()
          });

          showContactStatus('Thank you for your message! We\'ll get back to you soon.', 'success', statusDiv);
          document.getElementById('contactForm').reset();
          
        } catch (error) {
          console.error('Error sending inquiry:', error);
          showContactStatus('Sorry, there was an error sending your message. Please try again.', 'error', statusDiv);
        } finally {
          submitBtn.disabled = false;
          submitBtn.value = 'Send';
        }
      });

      function showContactStatus(message, type, container) {
        container.innerHTML = `<div style="color: ${type === 'success' ? 'var(--success)' : '#dc2626'}; 
                                        padding: 8px 12px; 
                                        border-radius: 6px; 
                                        background: ${type === 'success' ? '#d1fae5' : '#fef2f2'};
                                        border: 1px solid ${type === 'success' ? '#a7f3d0' : '#fecaca'};">
          ${message}
        </div>`;
      }
    </script>
  
  </main>

  <footer style="border-color: #222222">
    <div class="container">
      <div style="display: flex; gap: 14px; align-items: center">
        <div class="brand">PrestigePages.com</div>
        <span>© <span id="yr"></span> • All rights reserved</span>
      </div>
    </div>
  </footer>

  <!-- Profile Modal -->
  <div id="profileModal" class="modal">
    <div class="modal-content">
      
      <h2>Your Profile <span id="closeProfile" class="close-btn">&times;</span> </h2>

      <div class="profile-info">
        <p><strong>First Name:</strong> <span id="profileFirstName">Loading...</span></p>
        <p><strong>Last Name:</strong> <span id="profileLastName">Loading...</span></p>
        <p><strong>Email:</strong> <span id="profileEmail">Loading...</span></p>
        <p><strong>Mobile:</strong> <span id="profileMobile">Not set</span></p>
        <p><strong>House No:</strong> <span id="profileHouseno">Not set</span></p>
        <p><strong>Street Address:</strong> <span id="profileStreet">Not set</span></p>
        <p><strong>Baranggay:</strong> <span id="profileBaranggay">Not set</span></p>
        <p><strong>City:</strong> <span id="profileCity">Not set</span></p>
        <p><strong>Province:</strong> <span id="profileProvince">Not set</span></p>
        <p><strong>Postal Code:</strong> <span id="profilePostal">Not set</span></p>
      </div>

      <button id="editProfileBtn" class="btn">Edit Profile</button>
    </div>
  </div>

  <!-- Edit Profile Modal -->
<div id="editProfileModal" class="modal">
  <div class="modal-content">
    <h2>Edit Profile <span class="close-btn" id="closeEdit">&times;</span> </h2>

    <form id="editProfileForm">
      <label>First Name</label> <input type="text" id="editFirstName" required />
      <label>Last Name</label> <input type="text" id="editLastName" required />
      <label>Mobile</label> <input type="text" id="editMobile" />
      <label>House No</label> <input type="text" id="editHouseNo" />
      <label>Street Address</label> <input type="text" id="editStreet" />
      <label>Baranggay</label> <input type="text" id="editBaranggay" />
      <label>City</label> <input type="text" id="editCity" />
      <label>Province</label> <input type="text" id="editProvince" />
      <label>Postal Code</label> <input type="text" id="editPostal" />

      <button type="submit" class="btn">Save Changes</button>
    </form>
  </div>
</div>

  <!-- Wishlist Modal -->
  <div id="wishlistModal" class="modal">
    <div class="modal-content">
      <h2>Your Wishlist ❤️ <span id="closeWishlist" class="close-btn">&times;</span></h2>
      <div id="wishlistItems"></div>
    </div>
  </div>

  <!-- Cart Modal -->
  <div id="cartModal" class="modal">
    <div class="modal-content">
      
      <h2>Your Cart 🛒 <span id="closeCart" class="close-btn">&times;</span></h2>

      <!-- Scrollable container -->
      <div class="cart-items-wrapper">
        <ul id="cartItems"></ul>
      </div>

      <div id="cartTotal"></div>
      <!-- Cart Modal -->
      <button onclick="window.location.href='checkout.html'" class="checkout">Proceed to Checkout</button>


    </div>
  </div>

  <div id="transModal" class="modal">
    <div class="modal-content">
      <h2 class="modal-header">Your Transactions <span id="closeTrans" class="close-btn">&times;</span></h2>
      <div id="transContent">
        <p>Loading...</p>
      </div>
    </div>
  </div>

  <!-- Book Detail Modal -->
  <div id="bookDetailModal" class="modal">
    <div class="modal-content" style="max-width:1000px; width:100%;">
      <h2 style="display:flex; justify-content:space-between; align-items:center; gap:16px; margin-top:0;">
        <span id="bdTitle">Book</span>
        <span id="closeBookDetail" class="close-btn" style="cursor:pointer;">&times;</span>
      </h2>
      <style>
        /* Book detail modal specific layout */
        #bdBody { display:flex; gap:28px; flex-wrap:nowrap; align-items:flex-start; }
        #bdBody > div:first-child { flex:0 0 200px; }
        #bdBody > div:last-child { flex:1; min-width:240px; display:flex; flex-direction:column; }
        #bdDescription { max-height:240px; overflow:auto; }
        #bdReviewsSection { margin-top:26px; }
        @media (max-width: 760px){
          #bdBody { flex-wrap:wrap; }
          #bdDescription { max-height:none; }
        }
      </style>
      <div id="bdBody">
        <div style="flex:0 0 200px;">
          <img id="bdCover" src="" alt="Cover" style="width:200px; height:300px; object-fit:cover; border-radius:8px; background:#eee;" />
        </div>
        <div style="flex:1; min-width:240px;">
          <p id="bdAuthor" style="margin:4px 0 10px; font-weight:600; color:var(--ink);"></p>
          <div id="bdPrice" style="font-size:20px; font-weight:700; margin-bottom:12px;">₱0.00</div>
          <div id="bdStock" style="margin-bottom:14px; font-size:14px;"></div>
          <div id="bdRatingSummary" style="margin-bottom:16px; font-size:14px; color:var(--muted-ink);"></div>
          <div>
            <h3 style="margin:0 0 6px; font-size:18px;">Description</h3>
            <p id="bdDescription" style="margin:0 0 16px; line-height:1.45; white-space:pre-wrap; font-size:14px;"></p>
          </div>
        </div>
      </div>
      <hr style="margin:24px 0;" />
      <div id="bdReviewsSection">
        <h3 style="margin:0 0 12px; font-size:20px;">Reviews</h3>
        <div id="bdReviewsList" style="display:grid; gap:14px; margin-bottom:20px; max-height:260px; overflow:auto; padding-right:4px;"></div>
        <div id="bdReviewFormWrap" style="display:none;">
          <h4 style="margin:0 0 8px;">Write a Review</h4>
          <form id="bdReviewForm" style="display:grid; gap:10px;">
            <div style="display:flex; align-items:center; gap:8px;" id="bdStarPicker" aria-label="Select rating"></div>
            <textarea id="bdReviewText" placeholder="Share your thoughts about this book" rows="3" style="resize:vertical; padding:8px; font-family:inherit; border:1px solid var(--line); border-radius:6px;"></textarea>
            <div style="display:flex; gap:10px; flex-wrap:wrap;">
              <button type="submit" class="btn small">Submit Review</button>
              <button type="button" id="bdDeleteReview" class="btn secondary small" style="display:none;">Delete My Review</button>
            </div>
            <div id="bdReviewMsg" style="font-size:13px; color:var(--muted-ink);"></div>
          </form>
        </div>
        <div id="bdPurchaseNote" style="display:none; font-size:13px; color:var(--muted-ink);">You need to purchase this book to leave a review.</div>
      </div>
    </div>
  </div>

  <script type="module" src="js/homepage.js"></script>
</body>
</html>


